{% extends "base.html.j2" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% block app_content %}
<section class="contact-form">
    <h2>登記客戶請輸入</h2>
    <form method="POST" action="{{ url_for('register_customer') }}" onsubmit="return validateForm();">
        <div class="form-group">
            <label for="address">地址</label>
            <input type="text" class="form-control" id="address" name="address" required>
            
            <label for="phoneNumber">電話號碼</label>
            <input type="text" class="form-control" id="phoneNumber" name="phoneNumber" required pattern="^([5|6|8|9][0-9]{7})$" title="請輸入有效的香港電話號碼（例如：91234567）">
            
            <label for="startDate">開始日期</label>
            <input type="date" class="form-control" id="startDate" name="startDate" required>
            
            <label for="purchasePlan">選擇計劃</label>
            <select id="purchasePlan" name="purchasePlan" class="form-control" required>
                <option value="" disabled selected>請選擇計劃</option>
                <option value="Purchase_plan1">5G 20GB數據 流動通訊計劃 + Samsung Galaxy Fit3 x 2</option>
                <option value="Purchase_plan2">5G 30GB數據 流動通訊計劃 + Samsung Galaxy Fit3 x 2</option>
                <option value="Purchase_plan3">5G 50GB數據 流動通訊計劃 + 3GB中國內地數據 + Samsung Galaxy Fit3 x 2</option>
                <option value="Purchase_plan4">5G 本地數據 30GB</option>
                <option value="Purchase_plan5">5G本地數據50GB+中國內地及澳門數據3GB+中國流動電話號碼+12個月 JOOX VIP音樂服務計劃</option>
                <option value="Purchase_plan6">5G本地數據50GB+中國內地及澳門數據3GB+中國流動電話號碼+12個月 Netflix(標準計劃)</option>
                <option value="Purchase_plan7">5G本地數據50GB+中國內地及澳門數據3GB+中國流動電話號碼+12個月Disney+(標準計劃)</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">提交</button>
    </form>
</section>

<script>
function validateForm() {
    const phoneInput = document.getElementById('phoneNumber').value;
    const addressInput = document.getElementById('address').value;

    // 驗證地址
    if (!addressInput.trim()) {
        alert("地址不能為空。");
        return false;
    }

    // 驗證電話號碼格式
    const phonePattern = /^[5689][0-9]{7}$/; // 修正正則表達式
    if (!phonePattern.test(phoneInput)) {
        alert("請輸入有效的香港電話號碼（例如：91234567）。");
        return false;
    }

    return true; // 繼續提交表單
}
</script>
{% endblock %}